#!/usr/bin/env mshell

`base.html` readFile lines baseLines!

[
    `getting-started.inc.html`
    `basics.inc.html`
    `data-types.inc.html`
    `control-flow.inc.html`
    `variables.inc.html`
    `examples.inc.html`
    `execution.inc.html`
    `functions.inc.html`
] files!

@files
(
    f!
    [msh templateEval.msh] @f < * ! stdout!
    @baseLines (
        l!
        @l "CONTENTS" in
        # (@f readFile)
            (@stdout)
            (@l)
        iff
    ) map
    unlines
    @f basename "." split :0: name! $"build/{@name}.html"
    writeFile
)
each
